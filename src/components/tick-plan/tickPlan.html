<section class="main">
    <section class="tick-plan-header">
        <div class="tick-plan-header__plan-container">
            <div class="plan-menu">
                <h2 class="plan-menu__header">plan</h2>
                <div class="plan-menu__main">
                    <div class="plan-menu__sum-destination-list">
                        <h3 class="plan-menu__sum-destination-item">To plan:</h3>
                        <h3 class="plan-menu__sum-destination-item">Spread:</h3>
                        <h3 class="plan-menu__sum-destination-item">Unspread:</h3>
                    </div>
                    <div class="plan-menu__sum-values-list">
                        <span class="plan-menu__sum-value">{{$ctrl.tickPlanData.plannedValue}}</span>
                        <span class="plan-menu__sum-value">{{$ctrl.tickPlanData.spreadValue}}</span>
                        <span class="plan-menu__sum-value">{{$ctrl.tickPlanData.unspreadValue}}</span>
                    </div>
                    <div class="plan-menu__extras-list">
                        <div class="plan-menu__extra-item">
                            <button class="plan-menu__edit-plan-sum-btn">edit</button>
                        </div>
                        <div class="plan-menu__extra-item">
                            <span class="plan-menu__percent-value">{{$ctrl.tickPlanData.spreadPercent}}</span>
                        </div>
                        <div class="plan-menu__extra-item">
                            <span class="plan-menu__percent-value">{{$ctrl.tickPlanData.unspreadPercent}}</span>
                        </div>
                    </div>
                </div>
                <button class="plan-menu__spread-btn">Spread</button>
            </div>
        </div>

        <div class="tick-plan-header__fact-container">
            <h2 class="fact-menu__header">fact</h2>
            <a class="fact-menu__facted-link"
               ui-sref="tick-fact({id: $ctrl.tickPlanData.id})">
                <span ng-if="$ctrl.tickPlanData.factedPercent">
                    Go to facted <span class="fact-menu__percent-value">{{$ctrl.tickPlanData.factedPercent}}</span> done
                </span>
                <span ng-if="!$ctrl.tickPlanData.factedPercent">
                    No facted <br> Click to add
                </span>
            </a>
        </div>
    </section>

    <ul class="tick-plan-list">
        <li ng-repeat="spreadItem in $ctrl.tickPlanData.spread"
            class="tick-plan-item">
            <div class="tick-plan-item__jug-container">
                    <span class="tick-plan-item__jug">
                        {{spreadItem.jugName}}
                        <span class="tick-plan-item__jug-percent">{{spreadItem.jugDefaultPercent}}</span>
                    </span>

            </div>
            <div class="tick-plan-item__jug-container">
                <input type="number" class="tick-plan-item__sum"
                       ng-model="spreadItem.jugValue">
            </div>
            <div class="tick-plan-item__jug-container">
                <input type="number" class="tick-plan-item__percent"
                       ng-model="spreadItem.jugPercent">
            </div>
        </li>
    </ul>
</section>

<acc-footer save="$ctrl.saveTickPlan()"></acc-footer>