<section class="main">
    <section class="tick-plan-header">
        <div class="tick-plan-header__plan-container">
            <plan-menu planned-value="$ctrl.tickPlanData.plannedValue"
                       init-edit-panel-is-active="::$ctrl.isTickNew"
                       on-planned-sum-edit-end="$ctrl.handlePlannedValueChange(plannedValue)">
            </plan-menu>
        </div>

        <div class="tick-plan-header__fact-container">
            <h2 class="fact-menu__header">fact</h2>
            <a ng-if="::!$ctrl.isTickNew"
               class="fact-menu__facted-link"
               ui-sref="tick-fact({id: $ctrl.tickPlanData.id})">
                <span ng-if="$ctrl.tickPlanData.factedPercent">
                    Go to facted <span class="fact-menu__percent-value">{{$ctrl.tickPlanData.factedPercent}}</span> done
                </span>
                <span ng-if="!$ctrl.tickPlanData.factedPercent">
                    No facted <br> Click to add
                </span>
            </a>
            <span ng-if="::$ctrl.isTickNew"
                  class="fact-menu__no-link-text">
                To access facted save before
            </span>
        </div>
    </section>

    <spread spread="$ctrl.commonSpread"
            on-spread-item-change="$ctrl.updatePlannedValue(summary)"></spread>
</section>

<acc-footer save="$ctrl.saveTickPlan()"></acc-footer>